; Copyright (C) 2013 Jolla Ltd.
; Contact: Islam Amer <islam.amer@jollamobile.com>
; All rights reserved.
; 
; This program is free software; you can redistribute it and/or
; modify it under the terms of the GNU General Public License
; as published by the Free Software Foundation; either version 2
; of the License, or (at your option) any later version.
; 
; This program is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU General Public License for more details.
; 
; You should have received a copy of the GNU General Public License
; along with this program; if not, write to the Free Software
; Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA. 

[web]
; the url prefix django will be served under
url_prefix=webhook
; where the document root for the server lives
; /var/www is default on debian
; /srv/www is default on opensuse
doc_root = /var/www/
; where the images, js and css files will be collected on running the
; appropriate django command, so that they can be statically served by the HTTP
; server
static_media_collect = %(doc_root)s%(url_prefix)s/site_media

; The clients allowed to access this service : see ALLOWED_HOSTS. If not set it defaults to "*"
; allowed_hosts = *.example.com

use_http_remote_user = no
; django secret key, generate one using
; django-admin generate_secret_key --settings=webhook_launcher.settings
secret_key =

; whether to make the landing page public or not
; the landing page lists all complete mappings
public_landing_page = no

; uncomment this to only accept payloads from defined VcsServices
;only_known_services = True

; if you want to limit access to the webhook POST to only certain ips, specify
; them here. (eg github.com and merproject.org)
; post_ip_filter = 207.97.227.253, 50.57.128.197, 108.171.174.178, 50.57.231.61, 204.232.175.64/27, 192.30.252.0/22, 176.9.28.103

; Set this to yes if there is a reverse proxy and post_ip_filter is used
; we can't just trust the presence of X_FORWARDED_FOR header as an indicator
; as this could easily be spoofed.
; post_ip_filter_has_rev_proxy = yes

; If outogoing requests to bitbucket or github api need to go through 
; a proxy set the ip and port of the proxy here
; outgoing_proxy = http://proxy
; outgoing_proxy_port = 8080

[db]
; database engine to use
db_engine = sqlite3
; name of database
db_name = webhook
; database username
db_user = webhook
; database password
db_pass = webhook
; database host
db_host = localhost

[boss]
; BOSS server IP adress and credentials
; These are usually read from the main skynet.conf, but can be overriden here
;amqp_host = 127.0.0.1
;amqp_user = boss
;amqp_pwd = boss
;amqp_vhost = boss

[ldap]
; Whether to use LDAP authentication
use_ldap = no
; Wehther to perform a subtree search with filter for the user
; or just get the DN directly
use_search = no
; ldap server uri
ldap_server = ldaps://127.0.0.1
; Verify ldaps certificate
verify_certificate = no

; DN template used in case use_search is no
ldap_dn_template = uid=%(user)s,ou=example,dc=com

; base DN for subtree search used in case use_search is yes
ldap_base_dn = ou=people,dc=example,dc=com
; filter associated with above ldap_base_dn. Do not remove the default, modify it.
ldap_filter = (uid=%(user)s)

; Do we need to bind to search for a user?
; AUTH_LDAP_BIND_DN/PW options
; ldap_bind_dn =
; ldap_bind_pw =

; attribute where user emails are stored
ldap_mail_attr = mail
; attribute where users' first names are stored
ldap_fname_attr = givenName
; attribute where users' last names are stored
ldap_lname_attr = sn

; Support for LDAP groups
; The group type for AUTH_LDAP_GROUP_TYPE defaults
; to NestedActiveDirectoryGroupType:
; ldap_group_type = NestedActiveDirectoryGroupType
;
; You must specify where groups are found. Unless this is given
; no further group settings are done.
; ldap_group_search_dn = OU=My_Groups,DC=example,DC=com
;
; If given these set the is_staff and is_superuser admin rights using
; AUTH_LDAP_USER_FLAGS_BY_GROUP:
; ldap_staff_group = CN=Staff,OU=Webhook,OU=My_Groups,DC=example,DC=com
; ldap_superuser_group = CN=Superusers,OU=Webhook,OU=My_Groups,DC=example,DC=com

[processes]
; private process store, where the needed process definitions are stored
; override this location and copy the files over if you want to modify them
process_dir = /usr/share/webhook_launcher/processes
; process definition used when a commit happens
vcscommit_queue = %(process_dir)s/VCSCOMMIT_QUEUE
vcscommit_notify = %(process_dir)s/VCSCOMMIT_NOTIFY
vcscommit_build = %(process_dir)s/VCSCOMMIT_BUILD
